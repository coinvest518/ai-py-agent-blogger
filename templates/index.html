<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FDWA AI Agent Dashboard | Autonomous Social Media</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-animated"></div>

    <div class="dashboard">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <div class="logo-icon">ü§ñ</div>
                <div class="logo-text">
                    <h1>FDWA Agent</h1>
                    <p>AI Automation Hub</p>
                </div>
            </div>

            <nav>
                <div class="nav-section">
                    <div class="nav-title">Main</div>
                    <div class="nav-item active" data-section="dashboard">
                        <span class="nav-icon">üìä</span>
                        <span>Dashboard</span>
                        <span class="status-indicator status-active"></span>
                    </div>
                    <div class="nav-item" data-section="agents">
                        <span class="nav-icon">ü§ñ</span>
                        <span>AI Agents</span>
                    </div>
                    <div class="nav-item" data-section="chat">
                        <span class="nav-icon">üí¨</span>
                        <span>Chat</span>
                    </div>
                    <div class="nav-item" data-section="terminal">
                        <span class="nav-icon">üíª</span>
                        <span>Terminal</span>
                    </div>
                </div>

                <div class="nav-section">
                    <div class="nav-title">Control</div>
                    <div class="nav-item" data-section="scheduler">
                        <span class="nav-icon">‚è∞</span>
                        <span>Scheduler</span>
                    </div>
                    <div class="nav-item" data-section="memory">
                        <span class="nav-icon">üß†</span>
                        <span>Memory / DB</span>
                    </div>
                    <div class="nav-item" data-section="settings">
                        <span class="nav-icon">‚öôÔ∏è</span>
                        <span>Settings</span>
                    </div>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div>
                    <h1 class="header-title">> FDWA_AI_AGENT_SYSTEM_</h1>
                    <p style="color: var(--text-muted); font-size: 14px; margin-top: 4px;">
                        Autonomous Social Media Automation &bull; <span id="systemTime">00:00:00</span>
                    </p>
                </div>
                <div class="header-controls">
                    <button class="btn btn-secondary" onclick="loadStatus()">
                        <span>üîÑ</span> <span>Refresh</span>
                    </button>
                    <button class="btn btn-primary" id="runBtn" onclick="runAgent()">
                        <span>‚ñ∂Ô∏è</span> <span>Run All Agents</span>
                    </button>
                </div>
            </header>

            <!-- ============== DASHBOARD ============== -->
            <section id="section-dashboard">
                <div class="dashboard-grid">
                    <!-- System Status -->
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title"><span class="card-icon">‚ö°</span><span>System Status</span></div>
                            <span class="card-badge badge-success" id="systemStatus">ONLINE</span>
                        </div>
                        <div class="card-content">
                            <div class="stat-row"><span class="stat-label">Last Run</span><span class="stat-value" id="lastRun">Never</span></div>
                            <div class="stat-row"><span class="stat-label">Next Scheduled</span><span class="stat-value" id="nextRun">&mdash;</span></div>
                            <div class="stat-row"><span class="stat-label">Scheduler</span><span class="stat-value" id="schedulerBadge">&mdash;</span></div>
                        </div>
                    </div>
                    <!-- Active Agents -->
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title"><span class="card-icon">üéØ</span><span>Active Agents</span></div>
                            <span class="card-badge badge-success" id="agentCountBadge">6 READY</span>
                        </div>
                        <div class="card-content" id="agentStatusList"></div>
                    </div>
                    <!-- Integrations -->
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title"><span class="card-icon">üîå</span><span>Integrations</span></div>
                            <span class="card-badge badge-success">CONNECTED</span>
                        </div>
                        <div class="card-content" id="integrationsCard">
                            <div class="stat-row"><span class="stat-label">LangChain</span><span class="stat-value" style="color:var(--success);">‚úì</span></div>
                            <div class="stat-row"><span class="stat-label">Composio API</span><span class="stat-value" style="color:var(--success);">‚úì</span></div>
                            <div class="stat-row"><span class="stat-label">Astra DB</span><span class="stat-value" id="astraIntBadge" style="color:var(--text-muted);">‚Ä¶</span></div>
                        </div>
                    </div>
                </div>

                <!-- Agent Grid -->
                <h2 style="font-size:20px;margin-bottom:20px;color:var(--text-primary);">
                    <span style="color:var(--terminal-green);">></span> AI Agent Collection
                </h2>
                <div class="agent-grid" id="agentGrid"></div>

                <!-- Latest Run Results -->
                <div class="card" id="resultsCard" style="display:none;margin-top:24px;">
                    <div class="card-header">
                        <div class="card-title"><span class="card-icon">üìä</span><span>Latest Run Results</span></div>
                        <span class="card-badge badge-success">COMPLETED</span>
                    </div>
                    <div class="card-content">
                        <div style="margin-bottom:20px;">
                            <div style="color:var(--text-muted);margin-bottom:8px;font-size:12px;">GENERATED IMAGE</div>
                            <img id="generatedImage" style="width:100%;border-radius:12px;display:none;" />
                        </div>
                        <div class="result-block"><div class="result-label">üê¶ TWITTER POST</div><div id="twitterPost" class="result-text"></div></div>
                        <div class="result-block"><div class="result-label">üìò FACEBOOK POST</div><div id="facebookPost" class="result-text"></div></div>
                        <div class="result-block"><div class="result-label">üíº LINKEDIN POST</div><div id="linkedinPost" class="result-text"></div></div>
                        <div class="result-block"><div class="result-label">üí¨ TELEGRAM POST</div><div id="telegramPost" class="result-text"></div></div>
                        <div class="result-block"><div class="result-label">üì∏ INSTAGRAM CAPTION</div><div id="instagramPost" class="result-text"></div></div>
                    </div>
                </div>
            </section>

            <!-- ============== AGENTS ============== -->
            <section id="section-agents" style="display:none;">
                <h2 class="section-heading"><span style="color:var(--terminal-green);">></span> Individual Agent Controls</h2>
                <p style="color:var(--text-secondary);margin-bottom:24px;">Run any agent independently. Research must run first to provide insights for other agents.</p>
                <div class="agent-controls-grid" id="agentControlsGrid"></div>
                <div class="card" id="singleAgentResult" style="display:none;margin-top:24px;">
                    <div class="card-header">
                        <div class="card-title"><span class="card-icon">üìã</span><span>Agent Output</span></div>
                    </div>
                    <div class="card-content"><pre id="singleAgentOutput" style="white-space:pre-wrap;color:var(--text-primary);font-size:13px;max-height:400px;overflow-y:auto;"></pre></div>
                </div>
            </section>

            <!-- ============== CHAT ============== -->
            <section id="section-chat" style="display:none;">
                <div class="card chat-card">
                    <div class="card-header">
                        <div class="card-title"><span class="card-icon">üí¨</span><span>Chat with FDWA AI</span></div>
                    </div>
                    <div class="chat-messages" id="chatMessages">
                        <div class="chat-msg chat-msg-system">Ask me anything about FDWA, crypto trends, social media strategy, or AI automation.</div>
                    </div>
                    <div class="chat-input-row">
                        <input type="text" id="chatInput" class="chat-input" placeholder="Type a message‚Ä¶" autocomplete="off" />
                        <button class="btn btn-primary chat-send-btn" id="chatSendBtn" onclick="sendChat()">Send</button>
                    </div>
                </div>
            </section>

            <!-- ============== TERMINAL ============== -->
            <section id="section-terminal" style="display:none;">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title"><span class="card-icon">üíª</span><span>System Terminal</span></div>
                        <button class="btn btn-secondary" onclick="clearTerminal()" style="padding:8px 16px;font-size:12px;">Clear</button>
                    </div>
                    <div class="terminal">
                        <div class="terminal-header">
                            <span class="terminal-dot dot-red"></span>
                            <span class="terminal-dot dot-yellow"></span>
                            <span class="terminal-dot dot-green"></span>
                            <span style="color:var(--terminal-green);margin-left:12px;font-size:12px;">FDWA_AGENT_TERMINAL v2.0</span>
                        </div>
                        <div id="terminalOutput">
                            <div class="terminal-line"><span class="terminal-prompt">$</span><span class="terminal-text">System initialized‚Ä¶</span></div>
                            <div class="terminal-line"><span class="terminal-prompt">$</span><span class="terminal-text terminal-success">All agents loaded successfully</span></div>
                            <div class="terminal-line"><span class="terminal-prompt">$</span><span class="terminal-text">Waiting for commands‚Ä¶</span></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ============== SCHEDULER ============== -->
            <section id="section-scheduler" style="display:none;">
                <h2 class="section-heading"><span style="color:var(--terminal-green);">></span> Scheduler Control</h2>
                <div class="card" style="max-width:600px;">
                    <div class="card-header">
                        <div class="card-title"><span class="card-icon">‚è∞</span><span>Auto-Scheduler</span></div>
                        <span class="card-badge" id="schedulerStatusBadge">&mdash;</span>
                    </div>
                    <div class="card-content">
                        <div class="stat-row"><span class="stat-label">Status</span><span class="stat-value" id="schedRunning">&mdash;</span></div>
                        <div class="stat-row"><span class="stat-label">Interval</span><span class="stat-value" id="schedInterval">&mdash;</span></div>
                        <div class="stat-row"><span class="stat-label">Next Run</span><span class="stat-value" id="schedNextRun">&mdash;</span></div>
                        <div style="margin-top:20px;">
                            <button class="btn btn-primary" id="schedToggleBtn" onclick="toggleScheduler()">Toggle Scheduler</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ============== MEMORY ============== -->
            <section id="section-memory" style="display:none;">
                <h2 class="section-heading"><span style="color:var(--terminal-green);">></span> Memory / Astra DB</h2>
                <div class="card" style="max-width:600px;">
                    <div class="card-header">
                        <div class="card-title"><span class="card-icon">üß†</span><span>Astra DB Status</span></div>
                    </div>
                    <div class="card-content" id="memoryStatusContent">
                        <p style="color:var(--text-muted);">Loading‚Ä¶</p>
                    </div>
                </div>
            </section>

            <!-- ============== SETTINGS ============== -->
            <section id="section-settings" style="display:none;">
                <h2 class="section-heading"><span style="color:var(--terminal-green);">></span> Settings</h2>
                <div class="card">
                    <div class="card-header">
                        <div class="card-title"><span class="card-icon">‚öôÔ∏è</span><span>Environment Variables</span></div>
                    </div>
                    <div class="card-content" id="settingsContent">
                        <p style="color:var(--text-muted);">Loading‚Ä¶</p>
                    </div>
                </div>
            </section>

            <!-- Loading Spinner -->
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p style="color:var(--text-secondary);">Agent is running‚Ä¶ This may take 30-60 seconds</p>
            </div>
        </main>
    </div>

    <script src="/static/dashboard.js"></script>
</body>
</html>
